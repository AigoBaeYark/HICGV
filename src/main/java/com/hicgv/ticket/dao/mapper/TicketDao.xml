<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hicgv.ticket.dao.TicketDao">
	<select id="ticket" resultType="MoviesDto">
		SELECT * FROM HICGV_MOVIE ORDER BY TITLE_KOR
	</select> 
	
	<select id="biglocal" resultType="TheaterDto">
		SELECT * FROM HICGV_THEATER ORDER BY THEATER_ID
	</select> 
	
	<select id="local" resultType="TLocationDto">
		SELECT T.THEATER_ID, T.THEATER_LOC, TL.LOCATION_ID, TL.LOCATION_NAME 
		FROM HICGV_THEATER T INNER JOIN HICGV_THEATER_LOCATION TL 
		ON T.THEATER_ID =TL.THEATER_ID 
		ORDER BY T.THEATER_ID, TL.LOCATION_NAME 
		<!-- 큰지역ID, 큰지역, 영화관ID, 영화관 -->
	</select>
	
	<select id="time" resultType="TTimeDto">
		SELECT R.ROOM_NAME, R.MAX_SEAT, S.START_DATE 
		FROM HICGV_THEATER_ROOM R INNER JOIN HICGV_THEATER_SCHEDULE S 
		ON R.THEATER_ROOM_ID =S.THEATER_ROOM_ID 
		ORDER BY R.ROOM_NAME
		<!-- 'n'관, 좌석수, 상영시간, 종료시간은 계산식을 구해서 진행 할 예정 -->
	</select> 
	
	<!-- 파람부분 어떻게 적어야할까 생각중.. -->
	<select id="gettictime" resultType="TimeInfoDto">
	 <!-- SELECT RUNNING_TIME,START_DATE,LOCATION_ID,HICGV_MOVIE.MOVIE_ID, SUBSTR(START_DATE, 9, 2) AS TDAY 
      FROM HICGV_MOVIE
      LEFT JOIN HICGV_THEATER_SCHEDULE
      ON HICGV_MOVIE.MOVIE_ID=HICGV_THEATER_SCHEDULE.MOVIE_ID
      WHERE SUBSTR(START_DATE, 9, 2)=#{param1}	 -->
      </select>
	
</mapper> 
 